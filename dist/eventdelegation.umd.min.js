"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=b(require("selector-set")):"function"==typeof define&&define.amd?define(["selector-set"],b):a.eventdelegation=b(a.SelectorSet)})(void 0,function(a){"use strict";function b(a,b,c){var d=a[b];return a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)},a}function c(a,b,c,d){var e=[],f=b;do{if(1!==f.nodeType)break;var g=a.matches(f);if(g.length){var h={node:f,observers:g};c?e.unshift(h):e.push(h)}}while((f=f.parentElement)&&f!==d);return e}function d(){m.set(this,!0)}function e(){m.set(this,!0),i.set(this,!0)}function f(){return n.get(this)||null}function g(a,b){j&&Object.defineProperty(a,"currentTarget",{configurable:!0,enumerable:!0,get:b||j.get})}function h(a){var h=1===a.eventPhase?l:k,o=h.get(a.currentTarget);if(o){var p=o[a.type];if(p){var q=c(p,a.target,1===a.eventPhase,a.currentTarget);if(q.length){b(a,"stopPropagation",d),b(a,"stopImmediatePropagation",e),g(a,f);for(var r,s=0,t=q.length;s<t&&!m.get(a);s++){r=q[s],n.set(a,r.node);for(var u=0,v=r.observers.length;u<v&&!i.get(a);u++)r.observers[u].data.call?r.observers[u].data.call(r.node,a):r.observers[u].data.handleEvent&&(a.matched=r.node,r.observers[u].data.handleEvent.call(r.observers[u].data,a))}n.delete(a),g(a)}}}}a=a&&a.hasOwnProperty("default")?a["default"]:a;var k=new WeakMap,l=new WeakMap,m=new WeakMap,i=new WeakMap,n=new WeakMap,j=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");return{on:function(b,c,d,e){var f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{},g=!!f.capture,i=g?l:k,j=i.get(b);j||(j={},i.set(b,j));var m=j[c];m||(m=new a,j[c]=m,b.addEventListener(c,h,g)),m.add(d,e)},off:function(a,b,c,d){var e=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{},f=!!e.capture,g=f?l:k,i=g.get(a);i||(i={},g.set(a,i));var j=i[b];j&&(j.remove(c,d),j.size||(delete g[b],a.removeEventListener(b,h,f)))},trigger:function(a,b,c){return a.dispatchEvent(new CustomEvent(b,{bubbles:!0,cancelable:!0,detail:c}))}}});
